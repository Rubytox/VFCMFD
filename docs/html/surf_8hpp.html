<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>copyMoveCheck: include/surf.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">copyMoveCheck
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">surf.hpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;ctime&gt;</code><br />
<code>#include &lt;opencv2/opencv.hpp&gt;</code><br />
<code>#include &lt;opencv2/features2d.hpp&gt;</code><br />
<code>#include &lt;opencv2/xfeatures2d/nonfree.hpp&gt;</code><br />
<code>#include &quot;<a class="el" href="line_8hpp_source.html">line.hpp</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for surf.hpp:</div>
<div class="dyncontent">
<div class="center"><img src="surf_8hpp__incl.png" border="0" usemap="#include_2surf_8hpp" alt=""/></div>
<map name="include_2surf_8hpp" id="include_2surf_8hpp">
<area shape="rect" id="node9" href="line_8hpp.html" title="line.hpp" alt="" coords="341,80,408,107"/>
<area shape="rect" id="node12" href="_interest_point_8hpp.html" title="InterestPoint.hpp" alt="" coords="580,155,702,181"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="surf_8hpp__dep__incl.png" border="0" usemap="#include_2surf_8hppdep" alt=""/></div>
<map name="include_2surf_8hppdep" id="include_2surf_8hppdep">
<area shape="rect" id="node2" href="surf_8cpp.html" title="src/surf.cpp" alt="" coords="17,80,108,107"/>
</map>
</div>
</div>
<p><a href="surf_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3bac63b404cf6e8687db7fe970f13f35"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="surf_8hpp.html#a3bac63b404cf6e8687db7fe970f13f35">surf_analysis</a> (const cv::Mat &amp;src, int minHessian=400)</td></tr>
<tr class="separator:a3bac63b404cf6e8687db7fe970f13f35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab95a7399b3149637f6db7eda99d2bce0"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="surf_8hpp.html#ab95a7399b3149637f6db7eda99d2bce0">surf_matching</a> (const cv::Mat &amp;img1, const cv::Mat &amp;img2, int minHessian=400)</td></tr>
<tr class="separator:ab95a7399b3149637f6db7eda99d2bce0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc448db87c6171990310523fea935500"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="surf_8hpp.html#afc448db87c6171990310523fea935500">surf_improved</a> (const cv::Mat &amp;img, int minHessian=400)</td></tr>
<tr class="separator:afc448db87c6171990310523fea935500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb9701de26ca88858787a40d222b8065"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="surf_8hpp.html#acb9701de26ca88858787a40d222b8065">areNotNear</a> (const cv::Point2f &amp;point1, const cv::Point2f &amp;point2)</td></tr>
<tr class="separator:acb9701de26ca88858787a40d222b8065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98ca75d61f1f3338ffea3b7a639649d5"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="surf_8hpp.html#a98ca75d61f1f3338ffea3b7a639649d5">parallelLines</a> (const cv::Mat &amp;img)</td></tr>
<tr class="separator:a98ca75d61f1f3338ffea3b7a639649d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file defines some functions that will be used to apply the SURF algorithm on images. </p>

<p class="definition">Definition in file <a class="el" href="surf_8hpp_source.html">surf.hpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="acb9701de26ca88858787a40d222b8065"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb9701de26ca88858787a40d222b8065">&#9670;&nbsp;</a></span>areNotNear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool areNotNear </td>
          <td>(</td>
          <td class="paramtype">const cv::Point2f &amp;&#160;</td>
          <td class="paramname"><em>point1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cv::Point2f &amp;&#160;</td>
          <td class="paramname"><em>point2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Helper function used in surf_matching algorithm: it checks whether two points are near to each other. In this function, p1 is near to p2 if p1 is one of the eight neighbours of p2 or is equal to p2 :</p>
<p>+&mdash;+-&mdash;+&mdash;+ | a | b | c | +&mdash;+-&mdash;+&mdash;+ | d | p2 | e | p1 is near to p2 &lt;==&gt; p1 == p2 or p1 in [a, h] +&mdash;+-&mdash;+&mdash;+ | f | g | h | +&mdash;+-&mdash;+&mdash;+</p>
<p>Note: this relation is symmetric.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">point1</td><td>The first point. </td></tr>
    <tr><td class="paramname">point2</td><td>The second point.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if point1 is not near to point2, false otherwise. </dd></dl>

</div>
</div>
<a id="a98ca75d61f1f3338ffea3b7a639649d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98ca75d61f1f3338ffea3b7a639649d5">&#9670;&nbsp;</a></span>parallelLines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat parallelLines </td>
          <td>(</td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>img</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3bac63b404cf6e8687db7fe970f13f35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bac63b404cf6e8687db7fe970f13f35">&#9670;&nbsp;</a></span>surf_analysis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat surf_analysis </td>
          <td>(</td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minHessian</em> = <code>400</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function only detects SURF keypoints and draws them on the source image.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>The source image. </td></tr>
    <tr><td class="paramname">minHessian</td><td>The value of the Hessian threshold in the SURF algorithm.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A matrix representing the source image with the SURF keypoints drawn on it. </dd></dl>

</div>
</div>
<a id="afc448db87c6171990310523fea935500"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc448db87c6171990310523fea935500">&#9670;&nbsp;</a></span>surf_improved()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat surf_improved </td>
          <td>(</td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minHessian</em> = <code>400</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function implements the algorithm presented in the paper: "A SIFT-Based Forensic Method for Copy–Move Attack Detection 
 and Transformation Recovery". It detects SURF keypoints using the regular SURF algorithm, but the matching process is customized in order to fit our needs : it is done on only one image instead of two.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>The source image. </td></tr>
    <tr><td class="paramname">minHessian</td><td>The value of the Hessian threshold in the SURF algorithm.</td></tr>
    <tr><td class="paramname">A</td><td>matrix representing the source image, with matches between similar areas drawn. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab95a7399b3149637f6db7eda99d2bce0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab95a7399b3149637f6db7eda99d2bce0">&#9670;&nbsp;</a></span>surf_matching()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat surf_matching </td>
          <td>(</td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>img1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>img2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minHessian</em> = <code>400</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function detects SURF keypoints on two images, and then computes the matching keypoints between both images.</p>
<p>Note: This function should be used when img2 is part of img1.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img1</td><td>The source image. </td></tr>
    <tr><td class="paramname">img2</td><td>An image usually extracted from img1. It can be applied transformations such as rotations, scaling... </td></tr>
    <tr><td class="paramname">minHessian</td><td>The value of the Hessian threshold in the SURF algorithm.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A matrix representing the two images side by side, with matches between the keypoints drawn. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
